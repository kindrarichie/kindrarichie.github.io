---
layout: default
---

## Blog Post 12



This week, the final week of the semester for CIT 480, we worked on Project 2. My team has elected to install Confluence on a virtual machine that will be provided by the professor. Confluence is a collaboration tool created by Australian software company Atlassian. It helps teams to create, organize, share, and discuss their work. It features a rich text editor for the creation of blogs, meeting notes, project plans, and documentation. Flexible deployment options include either cloud or self-managed. Our team will be using the self-managed option. This will allow us to host Confluence on CSUN infrastructure and customize setup. Fairly thorough instructions provided by Atlassian can be found [here](https://confluence.atlassian.com/doc/confluence-installation-guide-135681.html). 

Due to end of semester time contraints, this last week our team has focused on outlining the steps needed to install Confluence and a presentation providing our project status. 

The tasks for Project 2 are to:

-Provision the GitHub repository.
&nbsp;  
-Create a PowerPoint presentation.
&nbsp;
&nbsp;
-Create an infrastructure diagram.
&nbsp;
&nbsp;
-Verify server requirements for Confluence are met.
&nbsp;  
-Install PostgreSQL 9.6 on database server.
&nbsp;  
-Create database user and database.
&nbsp;
&nbsp;
-Install Confluence 7.1 on Linux application server.
&nbsp;  
-Connect database server to application server.
&nbsp;  
-Document Confluence application server deployment.
&nbsp;  
-Document PostgreSQL database server deployment.
&nbsp;
&nbsp; 
&nbsp; 
<br>
<br>
A database is required to run Confluence. During Confluence evaluation, you can use the embedded database included in the Confluence installation. When moving to a production installation, you must set up an external database server. Atlassian recommends using PostgreSQL. 

For Project 3 the professor will provide us with two virtual machines. One virtual machine will have the Confluence application installed. The other will have the PostgreSQL database installed.  
&nbsp;

My first task was to create a diagram to describe the architecture that will be used for the deployment of Confluence on CSUN infrastructure. Confluence includes its own embedded application server Tomcat. The Tomcat container houses Confluence. The Tomcat container itself is housed by the JAVA environment where Confluence runs.   

My next task is to verify that server requirements for Confluence are met. The values on the slide refer to the minimum available hardware required to run Confluence only. The minimum heap size to allocate to Confluence is 1 GB. Atlassian only officially supports Confluence running on x86 hardware and 64-bit derivatives of x86 hardware. To plan server hardware requirements for Confluence deployment, you need to estimate the server scalability based on peak visitors, the editor to viewer ratio, and total content. Because server load can be difficult to predict, live testing is the best way to determine what hardware a Confluence instance will require in production. All page content is stored in the database, but attachments are stored in the file system. Thus, the more attachments you have, the more disk space you will require. Private instances manage users either internally or through a user repository like LDAP. Online instances have public signup enabled and need to handle the additional load brought about by anonymous internet visitors.

There is additional software and infrastructure needed to run Confluence. Some supported browsers are Microsoft Edge, Chrome, and Firefox. The supported operating systems are Microsoft Windows and Linux. Some supported databases are PostgreSQL 9.6, MySQL 5.7, and Oracle 12c Release 2. For Java, Java 1.8 and Java 11 are supported. Confluence and Confluence Data Center can be run in a virtualized environment, but the support team can't assist with problems related to the environment itself. Only the Tomcat version that is bundled with Confluence is supported. You can't run Confluence in your own application server. Confluence can be run in in both IPv4 and IPv6 environments.

Before installing Confluence, check that you meet the minimum system requirements and Supported Platforms as mentioned in the previous slide. I will install Confluence using is a Linux installer. This installation method is a straightforward way to get the production site up and running on a Linux server. Atlassian provides pointers for running Confluence on virtualized hardware which is what we will be doing. Some suggestions include ensuring that your VM images have enough physical memory allocated to run Confluence without swapping, that you make storage available to your VMs to optimize I/O access, and that the virtualization infrastructure has the flexibility and capacity to deal with peak load, not just idle load.


&nbsp;

----------------

&nbsp;
&nbsp;

The following is a continuation of what I am learning about CISCO networking. 

&nbsp;

### Router Switching Function

The main function of a router is to forward packets toward their destination. This is done by using a switching function. It is the process used by a router to accept a packet on one interface and forward it out of another interface. It is important to remember that packets must be placed in the appropriate data link frame type for the outgoing data link.
 
&nbsp;

#### Three major steps:

•    De-encapsulate the Layer 2 frame header and trailer to expose the Layer 3 packet. 

•    Examine the destination IP address of the IP packet to find the best path in the routing table.

•    If the router finds a path to the destination, it encapsulates the Layer 3 packet into a new Layer 2 frame and forwards the frame out the exit interface.


Devices have Layer 3 IPv4 addresses and Ethernet interfaces have Layer 2 data link addresses. As a packet travels from the source to the final destination, the Layer 3 IP addresses do not change. However, the Layer 2 data link addresses change at every hop as the packet is de-encapsulated and re-encapsulated in a new Layer 2 frame by each router.





[back](../blog.html)
